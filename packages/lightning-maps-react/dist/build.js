!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define("lightning-maps-react",["React"],e):"object"==typeof exports?exports["lightning-maps-react"]=e(require("react")):t["lightning-maps-react"]=e(t.React)}(window,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=5)}([function(t,e,n){t.exports=n(3)()},function(e,n){e.exports=t},function(t,e,n){var o;window,o=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/index.js")}({"./node_modules/robust-orientation/orientation.js":
/*!********************************************************!*\
  !*** ./node_modules/robust-orientation/orientation.js ***!
  \********************************************************/
/*! no static exports found */function(t,e,n){"use strict";var o=n(/*! two-product */"./node_modules/two-product/two-product.js"),r=n(/*! robust-sum */"./node_modules/robust-sum/robust-sum.js"),i=n(/*! robust-scale */"./node_modules/robust-scale/robust-scale.js"),s=n(/*! robust-subtract */"./node_modules/robust-subtract/robust-diff.js"),a=5;function u(t,e){for(var n=new Array(t.length-1),o=1;o<t.length;++o)for(var r=n[o-1]=new Array(t.length-1),i=0,s=0;i<t.length;++i)i!==e&&(r[s++]=t[o][i]);return n}function l(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",l(t.slice(0,e)),",",l(t.slice(e)),")"].join("")}function c(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",l(c(u(t,n))),",",(o=n,1&o?"-":""),t[0][n],")"].join(""));return e;var o}function f(t){for(var e=[],n=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var o=0;o<t;++o)e[n][o]=["m",o,"[",t-n-1,"]"].join("")}return e}(t),f=[],h=0;h<t;++h)0==(1&h)?e.push.apply(e,c(u(a,h))):n.push.apply(n,c(u(a,h))),f.push("m"+h);var p=l(e),d=l(n),m="orientation"+t+"Exact",v=["function ",m,"(",f.join(),"){var p=",p,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",v)(r,o,i,s)}var h=f(3),p=f(4),d=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var o,r=(t[1]-n[1])*(e[0]-n[0]),i=(t[0]-n[0])*(e[1]-n[1]),s=r-i;if(r>0){if(i<=0)return s;o=r+i}else{if(!(r<0))return s;if(i>=0)return s;o=-(r+i)}var a=3.3306690738754716e-16*o;return s>=a||s<=-a?s:h(t,e,n)},function(t,e,n,o){var r=t[0]-o[0],i=e[0]-o[0],s=n[0]-o[0],a=t[1]-o[1],u=e[1]-o[1],l=n[1]-o[1],c=t[2]-o[2],f=e[2]-o[2],h=n[2]-o[2],d=i*l,m=s*u,v=s*a,y=r*l,g=r*u,b=i*a,j=c*(d-m)+f*(v-y)+h*(g-b),w=7.771561172376103e-16*((Math.abs(d)+Math.abs(m))*Math.abs(c)+(Math.abs(v)+Math.abs(y))*Math.abs(f)+(Math.abs(g)+Math.abs(b))*Math.abs(h));return j>w||-j>w?j:p(t,e,n,o)}];function m(t){var e=d[t.length];return e||(e=d[t.length]=f(t.length)),e.apply(void 0,t)}!function(){for(;d.length<=a;)d.push(f(d.length));for(var e=[],n=["slow"],o=0;o<=a;++o)e.push("a"+o),n.push("o"+o);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(o=2;o<=a;++o)r.push("case ",o,":return o",o,"(",e.slice(0,o).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var i=Function.apply(void 0,n);for(t.exports=i.apply(void 0,[m].concat(d)),o=0;o<=a;++o)t.exports[o]=d[o]}()},"./node_modules/robust-point-in-polygon/robust-pnp.js":
/*!************************************************************!*\
  !*** ./node_modules/robust-point-in-polygon/robust-pnp.js ***!
  \************************************************************/
/*! no static exports found */function(t,e,n){t.exports=function(t,e){for(var n=e[0],r=e[1],i=t.length,s=1,a=i,u=0,l=i-1;u<a;l=u++){var c=t[u],f=t[l],h=c[1],p=f[1];if(p<h){if(p<r&&r<h){var d=o(c,f,e);if(0===d)return 0;s^=0<d|0}else if(r===h){var m=t[(u+1)%i],v=m[1];if(h<v){var d=o(c,f,e);if(0===d)return 0;s^=0<d|0}}}else if(h<p){if(h<r&&r<p){var d=o(c,f,e);if(0===d)return 0;s^=d<0|0}else if(r===h){var m=t[(u+1)%i],v=m[1];if(v<h){var d=o(c,f,e);if(0===d)return 0;s^=d<0|0}}}else if(r===h){var y=Math.min(c[0],f[0]),g=Math.max(c[0],f[0]);if(0===u){for(;l>0;){var b=(l+i-1)%i,j=t[b];if(j[1]!==r)break;var w=j[0];y=Math.min(y,w),g=Math.max(g,w),l=b}if(0===l)return y<=n&&n<=g?0:1;a=l+1}for(var k=t[(l+i-1)%i][1];u+1<a;){var j=t[u+1];if(j[1]!==r)break;var w=j[0];y=Math.min(y,w),g=Math.max(g,w),u+=1}if(y<=n&&n<=g)return 0;var O=t[(u+1)%i][1];n<y&&k<r!=O<r&&(s^=1)}}return 2*s-1};var o=n(/*! robust-orientation */"./node_modules/robust-orientation/orientation.js")},"./node_modules/robust-scale/robust-scale.js":
/*!***************************************************!*\
  !*** ./node_modules/robust-scale/robust-scale.js ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){"use strict";var o=n(/*! two-product */"./node_modules/two-product/two-product.js"),r=n(/*! two-sum */"./node_modules/two-sum/two-sum.js");t.exports=function(t,e){var n=t.length;if(1===n){var i=o(t[0],e);return i[0]?i:[i[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],l=0;o(t[0],e,a),a[0]&&(s[l++]=a[0]);for(var c=1;c<n;++c){o(t[c],e,u);var f=a[1];r(f,u[0],a),a[0]&&(s[l++]=a[0]);var h=u[1],p=a[1],d=h+p,m=d-h,v=p-m;a[1]=d,v&&(s[l++]=v)}a[1]&&(s[l++]=a[1]);0===l&&(s[l++]=0);return s.length=l,s}},"./node_modules/robust-subtract/robust-diff.js":
/*!*****************************************************!*\
  !*** ./node_modules/robust-subtract/robust-diff.js ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,o=0|e.length;if(1===n&&1===o)return function(t,e){var n=t+e,o=n-t,r=t-(n-o)+(e-o);if(r)return[r,n];return[n]}(t[0],-e[0]);var r,i,s=new Array(n+o),a=0,u=0,l=0,c=Math.abs,f=t[u],h=c(f),p=-e[l],d=c(p);h<d?(i=f,(u+=1)<n&&(f=t[u],h=c(f))):(i=p,(l+=1)<o&&(p=-e[l],d=c(p)));u<n&&h<d||l>=o?(r=f,(u+=1)<n&&(f=t[u],h=c(f))):(r=p,(l+=1)<o&&(p=-e[l],d=c(p)));var m,v,y=r+i,g=y-r,b=i-g,j=b,w=y;for(;u<n&&l<o;)h<d?(r=f,(u+=1)<n&&(f=t[u],h=c(f))):(r=p,(l+=1)<o&&(p=-e[l],d=c(p))),(b=(i=j)-(g=(y=r+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m;for(;u<n;)(b=(i=j)-(g=(y=(r=f)+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m,(u+=1)<n&&(f=t[u]);for(;l<o;)(b=(i=j)-(g=(y=(r=p)+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m,(l+=1)<o&&(p=-e[l]);j&&(s[a++]=j);w&&(s[a++]=w);a||(s[a++]=0);return s.length=a,s}},"./node_modules/robust-sum/robust-sum.js":
/*!***********************************************!*\
  !*** ./node_modules/robust-sum/robust-sum.js ***!
  \***********************************************/
/*! no static exports found */function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,o=0|e.length;if(1===n&&1===o)return function(t,e){var n=t+e,o=n-t,r=t-(n-o)+(e-o);if(r)return[r,n];return[n]}(t[0],e[0]);var r,i,s=new Array(n+o),a=0,u=0,l=0,c=Math.abs,f=t[u],h=c(f),p=e[l],d=c(p);h<d?(i=f,(u+=1)<n&&(f=t[u],h=c(f))):(i=p,(l+=1)<o&&(p=e[l],d=c(p)));u<n&&h<d||l>=o?(r=f,(u+=1)<n&&(f=t[u],h=c(f))):(r=p,(l+=1)<o&&(p=e[l],d=c(p)));var m,v,y=r+i,g=y-r,b=i-g,j=b,w=y;for(;u<n&&l<o;)h<d?(r=f,(u+=1)<n&&(f=t[u],h=c(f))):(r=p,(l+=1)<o&&(p=e[l],d=c(p))),(b=(i=j)-(g=(y=r+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m;for(;u<n;)(b=(i=j)-(g=(y=(r=f)+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m,(u+=1)<n&&(f=t[u]);for(;l<o;)(b=(i=j)-(g=(y=(r=p)+i)-r))&&(s[a++]=b),j=w-((m=w+y)-(v=m-w))+(y-v),w=m,(l+=1)<o&&(p=e[l]);j&&(s[a++]=j);w&&(s[a++]=w);a||(s[a++]=0);return s.length=a,s}},"./node_modules/topojson-client/index.js":
/*!***********************************************!*\
  !*** ./node_modules/topojson-client/index.js ***!
  \***********************************************/
/*! exports provided: bbox, feature, mesh, meshArcs, merge, mergeArcs, neighbors, quantize, transform, untransform */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./src/bbox */"./node_modules/topojson-client/src/bbox.js");n.d(e,"bbox",function(){return o.default});var r=n(/*! ./src/feature */"./node_modules/topojson-client/src/feature.js");n.d(e,"feature",function(){return r.default});var i=n(/*! ./src/mesh */"./node_modules/topojson-client/src/mesh.js");n.d(e,"mesh",function(){return i.default}),n.d(e,"meshArcs",function(){return i.meshArcs});var s=n(/*! ./src/merge */"./node_modules/topojson-client/src/merge.js");n.d(e,"merge",function(){return s.default}),n.d(e,"mergeArcs",function(){return s.mergeArcs});var a=n(/*! ./src/neighbors */"./node_modules/topojson-client/src/neighbors.js");n.d(e,"neighbors",function(){return a.default});var u=n(/*! ./src/quantize */"./node_modules/topojson-client/src/quantize.js");n.d(e,"quantize",function(){return u.default});var l=n(/*! ./src/transform */"./node_modules/topojson-client/src/transform.js");n.d(e,"transform",function(){return l.default});var c=n(/*! ./src/untransform */"./node_modules/topojson-client/src/untransform.js");n.d(e,"untransform",function(){return c.default})},"./node_modules/topojson-client/src/bbox.js":
/*!**************************************************!*\
  !*** ./node_modules/topojson-client/src/bbox.js ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./transform */"./node_modules/topojson-client/src/transform.js");e.default=function(t){var e,n=Object(o.default)(t.transform),r=1/0,i=r,s=-r,a=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>s&&(s=t[0]),t[1]<i&&(i=t[1]),t[1]>a&&(a=t[1])}function l(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach(function(t){for(var e,o=-1,u=t.length;++o<u;)(e=n(t[o],o))[0]<r&&(r=e[0]),e[0]>s&&(s=e[0]),e[1]<i&&(i=e[1]),e[1]>a&&(a=e[1])}),t.objects)l(t.objects[e]);return[r,i,s,a]}},"./node_modules/topojson-client/src/bisect.js":
/*!****************************************************!*\
  !*** ./node_modules/topojson-client/src/bisect.js ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default=function(t,e){for(var n=0,o=t.length;n<o;){var r=n+o>>>1;t[r]<e?n=r+1:o=r}return n}},"./node_modules/topojson-client/src/feature.js":
/*!*****************************************************!*\
  !*** ./node_modules/topojson-client/src/feature.js ***!
  \*****************************************************/
/*! exports provided: default, feature, object */function(t,e,n){"use strict";n.r(e),n.d(e,"feature",function(){return i}),n.d(e,"object",function(){return s});var o=n(/*! ./reverse */"./node_modules/topojson-client/src/reverse.js"),r=n(/*! ./transform */"./node_modules/topojson-client/src/transform.js");function i(t,e){var n=e.id,o=e.bbox,r=null==e.properties?{}:e.properties,i=s(t,e);return null==n&&null==o?{type:"Feature",properties:r,geometry:i}:null==o?{type:"Feature",id:n,properties:r,geometry:i}:{type:"Feature",id:n,bbox:o,properties:r,geometry:i}}function s(t,e){var n=Object(r.default)(t.transform),i=t.arcs;function s(t,e){e.length&&e.pop();for(var r=i[t<0?~t:t],s=0,a=r.length;s<a;++s)e.push(n(r[s],s));t<0&&Object(o.default)(e,a)}function a(t){return n(t)}function u(t){for(var e=[],n=0,o=t.length;n<o;++n)s(t[n],e);return e.length<2&&e.push(e[0]),e}function l(t){for(var e=u(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(l)}return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=a(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(a);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null}return{type:o,coordinates:n}}(e)}e.default=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return i(t,e)})}:i(t,e)}},"./node_modules/topojson-client/src/identity.js":
/*!******************************************************!*\
  !*** ./node_modules/topojson-client/src/identity.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default=function(t){return t}},"./node_modules/topojson-client/src/merge.js":
/*!***************************************************!*\
  !*** ./node_modules/topojson-client/src/merge.js ***!
  \***************************************************/
/*! exports provided: default, mergeArcs */function(t,e,n){"use strict";n.r(e),n.d(e,"mergeArcs",function(){return i});var o=n(/*! ./feature */"./node_modules/topojson-client/src/feature.js"),r=n(/*! ./stitch */"./node_modules/topojson-client/src/stitch.js");function i(t,e){var n={},i=[],s=[];function a(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),i.push(t)}function u(e){return function(t){for(var e,n=-1,o=t.length,r=t[o-1],i=0;++n<o;)e=r,r=t[n],i+=e[0]*r[1]-e[1]*r[0];return Math.abs(i)}(Object(o.object)(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a)}}),i.forEach(function(t){if(!t._){var e=[],o=[t];for(t._=1,s.push(e);t=o.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,o.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var o,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&i.push(t)})})}),(o=(i=Object(r.default)(t,i)).length)>1)for(var s,a,l=1,c=u(i[0]);l<o;++l)(s=u(i[l]))>c&&(a=i[0],i[0]=i[l],i[l]=a,c=s);return i})}}e.default=function(t){return Object(o.object)(t,i.apply(this,arguments))}},"./node_modules/topojson-client/src/mesh.js":
/*!**************************************************!*\
  !*** ./node_modules/topojson-client/src/mesh.js ***!
  \**************************************************/
/*! exports provided: default, meshArcs */function(t,e,n){"use strict";n.r(e),n.d(e,"meshArcs",function(){return i});var o=n(/*! ./feature */"./node_modules/topojson-client/src/feature.js"),r=n(/*! ./stitch */"./node_modules/topojson-client/src/stitch.js");function i(t,e,n){var o,i,s;if(arguments.length>1)o=function(t,e,n){var o,r=[],i=[];function s(t){var e=t<0?~t:t;(i[e]||(i[e]=[])).push({i:t,g:o})}function a(t){t.forEach(s)}function u(t){t.forEach(a)}return function t(e){switch(o=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":a(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":e.arcs.forEach(u)}}(e),i.forEach(null==n?function(t){r.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&r.push(t[0].i)}),r}(0,e,n);else for(i=0,o=new Array(s=t.arcs.length);i<s;++i)o[i]=i;return{type:"MultiLineString",arcs:Object(r.default)(t,o)}}e.default=function(t){return Object(o.object)(t,i.apply(this,arguments))}},"./node_modules/topojson-client/src/neighbors.js":
/*!*******************************************************!*\
  !*** ./node_modules/topojson-client/src/neighbors.js ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./bisect */"./node_modules/topojson-client/src/bisect.js");e.default=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var o=e[t];o?o.push(n):e[t]=[n]})}function i(t,e){t.forEach(function(t){r(t,e)})}var s={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};for(var a in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in s&&s[e.type](e.arcs,n)}),e)for(var u=e[a],l=u.length,c=0;c<l;++c)for(var f=c+1;f<l;++f){var h,p=u[c],d=u[f];(h=n[p])[a=Object(o.default)(h,d)]!==d&&h.splice(a,0,d),(h=n[d])[a=Object(o.default)(h,p)]!==p&&h.splice(a,0,p)}return n}},"./node_modules/topojson-client/src/quantize.js":
/*!******************************************************!*\
  !*** ./node_modules/topojson-client/src/quantize.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./bbox */"./node_modules/topojson-client/src/bbox.js"),r=n(/*! ./untransform */"./node_modules/topojson-client/src/untransform.js");e.default=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)l=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be â‰¥2");var n,i=(l=t.bbox||Object(o.default)(t))[0],s=l[1],a=l[2],u=l[3];e={scale:[a-i?(a-i)/(n-1):1,u-s?(u-s)/(n-1):1],translate:[i,s]}}var l,c,f=Object(r.default)(e),h=t.objects,p={};function d(t){return f(t)}function m(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(m)};break;case"Point":e={type:"Point",coordinates:d(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(d)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(c in h)p[c]=m(h[c]);return{type:"Topology",bbox:l,transform:e,objects:p,arcs:t.arcs.map(function(t){var e,n=0,o=1,r=t.length,i=new Array(r);for(i[0]=f(t[0],0);++n<r;)((e=f(t[n],n))[0]||e[1])&&(i[o++]=e);return 1===o&&(i[o++]=[0,0]),i.length=o,i})}}},"./node_modules/topojson-client/src/reverse.js":
/*!*****************************************************!*\
  !*** ./node_modules/topojson-client/src/reverse.js ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default=function(t,e){for(var n,o=t.length,r=o-e;r<--o;)n=t[r],t[r++]=t[o],t[o]=n}},"./node_modules/topojson-client/src/stitch.js":
/*!****************************************************!*\
  !*** ./node_modules/topojson-client/src/stitch.js ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e.default=function(t,e){var n={},o={},r={},i=[],s=-1;function a(t,e){for(var o in t){var r=t[o];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){n[t<0?~t:t]=1}),i.push(r)}}return e.forEach(function(n,o){var r,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(r=e[++s],e[s]=n,e[o]=r)}),e.forEach(function(e){var n,i,s=function(e){var n,o=t.arcs[e<0?~e:e],r=o[0];t.transform?(n=[0,0],o.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=o[o.length-1];return e<0?[n,r]:[r,n]}(e),a=s[0],u=s[1];if(n=r[a])if(delete r[n.end],n.push(e),n.end=u,i=o[u]){delete o[i.start];var l=i===n?n:n.concat(i);o[l.start=n.start]=r[l.end=i.end]=l}else o[n.start]=r[n.end]=n;else if(n=o[u])if(delete o[n.start],n.unshift(e),n.start=a,i=r[a]){delete r[i.end];var c=i===n?n:i.concat(n);o[c.start=i.start]=r[c.end=n.end]=c}else o[n.start]=r[n.end]=n;else o[(n=[e]).start=a]=r[n.end=u]=n}),a(r,o),a(o,r),e.forEach(function(t){n[t<0?~t:t]||i.push([t])}),i}},"./node_modules/topojson-client/src/transform.js":
/*!*******************************************************!*\
  !*** ./node_modules/topojson-client/src/transform.js ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./identity */"./node_modules/topojson-client/src/identity.js");e.default=function(t){if(null==t)return o.default;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,o){o||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+s,c[1]=(n+=t[1])*i+a;u<l;)c[u]=t[u],++u;return c}}},"./node_modules/topojson-client/src/untransform.js":
/*!*********************************************************!*\
  !*** ./node_modules/topojson-client/src/untransform.js ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./identity */"./node_modules/topojson-client/src/identity.js");e.default=function(t){if(null==t)return o.default;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,o){o||(e=n=0);var u=2,l=t.length,c=new Array(l),f=Math.round((t[0]-s)/r),h=Math.round((t[1]-a)/i);for(c[0]=f-e,e=f,c[1]=h-n,n=h;u<l;)c[u]=t[u],++u;return c}}},"./node_modules/two-product/two-product.js":
/*!*************************************************!*\
  !*** ./node_modules/two-product/two-product.js ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t*e,i=o*t,s=i-(i-t),a=t-s,u=o*e,l=u-(u-e),c=e-l,f=a*c-(r-s*l-a*l-s*c);if(n)return n[0]=f,n[1]=r,n;return[f,r]};var o=+(Math.pow(2,27)+1)},"./node_modules/two-sum/two-sum.js":
/*!*****************************************!*\
  !*** ./node_modules/two-sum/two-sum.js ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";t.exports=function(t,e,n){var o=t+e,r=o-t,i=e-r,s=t-(o-r);if(n)return n[0]=s+i,n[1]=o,n;return[s+i,o]}},"./src/Map.js":
/*!********************!*\
  !*** ./src/Map.js ***!
  \********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var o=n(/*! ./TileConversion */"./src/TileConversion.js"),r=n(/*! ./TileLayer */"./src/TileLayer.js"),i=n(/*! ./MapState */"./src/MapState.js"),s=n(/*! ./defaultOptions */"./src/defaultOptions.js");function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!e.getContext)throw new Error("Could not get canvas context");this.canvas=e,this.context=this.canvas.getContext("2d"),this.options=Object.assign({},s.defaultMapOptions,n),this.initializeState(),this.attachEvents(),this.lastDrawState=null,this.onMarkerClicked=null,this.onMarkerHover=null,this.onPolygonHover=null,this.draw=this.draw.bind(this),window.requestAnimationFrame(this.draw)}var e,n,u;return e=t,(n=[{key:"initializeState",value:function(){this.state={canvasDimensions:[this.canvas.width,this.canvas.height],tiles:{},moveOffset:[0,0],targetMoveOffset:[0,0],targetMoveOffsetIsCoord:!1,moveAnimationStart:null,dragStartPosition:null,lastZoomEventActionTime:null,startZoom:this.options.zoom,targetZoom:this.options.zoom,zoomAnimationStart:null,scale:1,lastMouseMoveEvent:null,mouseVelocities:[],markers:[],polygons:[],tileLayers:[new r.default(this)],mousePosition:{x:0,y:0},forceRedraw:!1}}},{key:"getZoom",value:function(){return this.options.zoom}},{key:"setZoom",value:function(t){this.zoomValueIsValid(t)&&this.isReadyForZoomEvent()&&(t=Math.round(t),this.state.tileLayers.push(new r.default(this,t)),this.state.lastZoomEventActionTime=window.performance.now(),this.state.zoomAnimationStart=window.performance.now(),this.state.targetZoom=t,this.state.startZoom=this.options.zoom)}},{key:"setCenter",value:function(t){if(!Array.isArray(t)||2!==t.length)throw new Error("Please provide a valid array with a lat/lon");t=t.map(function(t){return parseFloat(t)}),this.state.moveAnimationStart=window.performance.now(),this.state.targetMoveOffset=t,this.state.targetMoveOffsetIsCoord=!0}},{key:"setTargetMoveOffset",value:function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?(this.state.moveAnimationStart=window.performance.now(),this.state.targetMoveOffset=o.default.pixelToLatLon([t,e],this.options.center,this.options.zoom,this.options.tileSize),this.state.targetMoveOffsetIsCoord=!0):(this.state.targetMoveOffset=[t,e],this.state.targetMoveOffsetIsCoord=!1,this.state.moveOffset=this.state.targetMoveOffset)}},{key:"zoomValueIsValid",value:function(t){return t>=1&&t<=18}},{key:"isReadyForZoomEvent",value:function(){return!this.state.lastZoomEventActionTime||window.performance.now()-this.state.lastZoomEventActionTime>this.options.debounceIntervalMs}},{key:"calculateVelocity",value:function(t,e,n,o){return(t-e)/(n-o)*1e3}},{key:"attachEvents",value:function(){var t=this;this.canvas.addEventListener("wheel",function(e){e.preventDefault(),e.deltaY>5?t.setZoom(t.options.zoom-1):e.deltaY<-5&&t.setZoom(t.options.zoom+1)}),this.canvas.addEventListener("dblclick",function(e){e.preventDefault(),t.updateMousePosition(e);var n=t.getCanvasCenter();t.setTargetMoveOffset(-(t.state.mousePosition.x-n[0]),-(t.state.mousePosition.y-n[1])),t.setZoom(t.options.zoom+1)}),this.canvas.addEventListener("mousedown",function(e){e.preventDefault(),t.updateMousePosition(e),t.handleMouseEventInteraction(e,"mousedown")||(t.state.mouseVelocities=[],t.state.dragStartPosition=[t.state.mousePosition.x-t.state.moveOffset[0],t.state.mousePosition.y-t.state.moveOffset[1]])}),this.canvas.addEventListener("mouseup",function(e){if(e.preventDefault(),t.updateMousePosition(e),t.state.dragStartPosition){var n=-(t.state.dragStartPosition[0]-t.state.mousePosition.x),o=-(t.state.dragStartPosition[1]-t.state.mousePosition.y);if(0!==t.state.moveOffset[0]||0!==t.state.moveOffset[1]){var r=window.performance.now()-t.options.throwTimingThresholdMs,i=t.state.mouseVelocities.filter(function(t){return t[0]>r}).map(function(t){return t[1]}),s=i.reduce(function(t,e){return t+e},0)/i.length;if(s>=t.options.throwVelocityThreshold){var a=s/t.options.throwVelocityThreshold*t.options.panAccelerationMultiplier;a=Math.min(a,t.options.maxPanAcceleration),t.setTargetMoveOffset(n*a,o*a)}else t.updateCenter()}t.state.dragStartPosition=null}else t.handleMouseEventInteraction(e,"mouseup")}),this.canvas.addEventListener("mousemove",function(e){if(e.preventDefault(),t.updateMousePosition(e),t.state.dragStartPosition){var n=-(t.state.dragStartPosition[0]-t.state.mousePosition.x),o=-(t.state.dragStartPosition[1]-t.state.mousePosition.y),r=window.performance.now(),i=t.calculateVelocity(t.state.moveOffset[0],n,r,t.state.lastMouseMoveEvent),s=t.calculateVelocity(t.state.moveOffset[1],o,r,t.state.lastMouseMoveEvent),a=Math.round(Math.sqrt(i*i+s*s));t.state.mouseVelocities.push([r,a]),t.setTargetMoveOffset(n,o,!1),t.state.lastMouseMoveEvent=window.performance.now()}else t.handleMouseEventInteraction(e,"mousemove");return!1})}},{key:"updateMousePosition",value:function(t){var e=this.canvas.getBoundingClientRect();this.state.mousePosition={x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"easeOutQuad",value:function(t){return t*(2-t)}},{key:"updateMoveOffset",value:function(){if(this.state.moveOffset!==this.state.targetMoveOffset){var t=window.performance.now(),e=Math.max(t-this.state.moveAnimationStart,0),n=this.easeOutQuad(e/this.options.animationDurationMs),r=this.state.targetMoveOffset;this.state.targetMoveOffsetIsCoord&&(r=o.default.latLonToPixel(this.state.targetMoveOffset,this.options.center,this.options.zoom,this.options.tileSize)),this.state.moveOffset=n>=.99?r:[this.state.moveOffset[0]+(r[0]-this.state.moveOffset[0])*n,this.state.moveOffset[1]+(r[1]-this.state.moveOffset[1])*n],this.state.moveOffset===r&&this.updateCenter()}}},{key:"updateCenter",value:function(){var t=o.default.pixelToLatLon(this.state.moveOffset,this.options.center,this.options.zoom,this.options.tileSize);this.setTargetMoveOffset(0,0,!1),this.options.center=t}},{key:"updateZoom",value:function(){if(this.options.zoom!==this.state.targetZoom){var t=Math.max(window.performance.now()-this.state.zoomAnimationStart,0),e=this.easeOutQuad(t/this.options.animationDurationMs),n=Math.abs(this.state.targetZoom-this.state.startZoom);this.state.targetZoom<=this.state.startZoom&&(n*=-1);var o=n*e,r=this.options.animationDurationMs-t;this.options.zoom=r<=5?this.state.targetZoom:this.state.startZoom+o;var i=Math.round(this.options.zoom),s=this.options.zoom-i;this.state.scale=Math.pow(2,s),this.options.zoom===this.state.targetZoom&&(this.state.tileLayers.shift(),this.state.tileLayers[0].tilesZoomLevel=null)}else this.state.scale=1}},{key:"garbageCollect",value:function(){var t=this,e=Object.values(this.state.tiles);if(e.length>this.maxTilesToKeep()){var n=(new Date).getTime()-5e3,o=e.filter(function(t){return t.lastRequested<n}).sort(function(t,e){return~~(t.lastRequested<e.lastRequested)}),r=this.maxTilesToKeep()-(e.length-o.length);o.splice(o.length-r).forEach(function(e){e.src="",delete t.state.tiles[e.tileId]})}}},{key:"maxTilesToKeep",value:function(){return 1e3}},{key:"shouldRedraw",value:function(){if(this.state.forceRedraw)return this.state.forceRedraw=!1,!0;var t=JSON.stringify([this.state,this.options]);return this.lastDrawState!==t&&(this.lastDrawState=t,!0)}},{key:"draw",value:function(){this.updateMoveOffset(),this.updateZoom(),this.state.tileLayers.forEach(function(t){return t.calculateGrid()}),this.garbageCollect(),this.shouldRedraw()&&(this.state.tileLayers.length>0&&this.state.tileLayers[0].drawTiles(this.state.scale),this.renderPolygons(),this.renderMarkers(),this.renderControls(),this.renderAttribution()),window.requestAnimationFrame(this.draw)}},{key:"getMapBounds",value:function(){var t=this.getCanvasCenter();return{nw:o.default.pixelToLatLon([t[0],t[1]],this.options.center,this.options.zoom,this.options.tileSize),se:o.default.pixelToLatLon([-t[0],-t[1]],this.options.center,this.options.zoom,this.options.tileSize)}}},{key:"getVisibleMarkers",value:function(){var t=this.getMapBounds();return this.state.markers.filter(function(e){return e.coords[0]<=t.nw[0]&&e.coords[0]>=t.se[0]&&e.coords[1]>=t.nw[1]&&e.coords[1]<=t.se[1]})}},{key:"getCanvasCenter",value:function(){return[this.state.canvasDimensions[0]/2,this.state.canvasDimensions[1]/2]}},{key:"renderMarkers",value:function(){var t=this,e=this.getVisibleMarkers(),n=this.getCanvasCenter();e.map(function(e){var r=o.default.latLonToPixel(e.coords,t.options.center,t.options.zoom,t.options.tileSize);e.render(t.context,[n[0]-r[0]+t.state.moveOffset[0],n[1]-r[1]+t.state.moveOffset[1]])})}},{key:"renderPolygons",value:function(){var t=this,e=new i.default(this.options.center,this.options.zoom,this.state.targetZoom,this.options.tileSize,this.state.canvasDimensions,this.state.moveOffset);this.state.polygons.map(function(n){n.render(t.context,e),n.handleMouseOver(t.context,e,t.state.mousePosition)})}},{key:"handleMouseEventInteraction",value:function(t,e){var n=this,o=this.getControlObjects().filter(function(t){return n.isMouseOverObject(t.bounds)}),r=o.length<=0&&(this.onMarkerClicked||this.onMarkerHover)?this.getMarkersBounds().filter(function(t){return n.isMouseOverObject(t.bounds)}):[];if("mouseup"===e){if(o.length>0){var s=o[0];this.setZoom("+"===s.label?this.options.zoom+1:this.options.zoom-1)}this.onMarkerClicked&&r.map(function(t){return n.onMarkerClicked(t.marker)})}else this.onMarkerHover&&r.map(function(t){return n.onMarkerHover(t.marker)});var a=o.length>0||r.length>0,u=[];if(!a){var l=new i.default(this.options.center,this.options.zoom,this.state.targetZoom,this.options.tileSize,this.state.canvasDimensions,this.state.moveOffset);u=this.state.polygons.map(function(t){return t.handleMouseOver(null,l,n.state.mousePosition)}).filter(function(t){return t.length>0})}return u.length>0&&(a=!0,this.onPolygonHover&&u.map(function(t){return t.map(function(t){return n.onPolygonHover(t)})})),this.canvas.style.cursor=a?"pointer":"grab",a}},{key:"getControlObjects",value:function(){return[{bounds:{x:4,y:4,width:30,height:30},label:"+"},{bounds:{x:4,y:38,width:30,height:30},label:"-"}]}},{key:"getMarkersBounds",value:function(){var t=this,e=this.getVisibleMarkers(),n=this.getCanvasCenter();return e.map(function(e){var r=o.default.latLonToPixel(e.coords,t.options.center,t.options.zoom,t.options.tileSize),i=e.size,s=e.offset;return{bounds:{x:n[0]-r[0]+t.state.moveOffset[0]-i[0]/2+s[0],y:n[1]-r[1]+t.state.moveOffset[1]-i[1]/2+s[1],width:i[0],height:i[1]},marker:e}})}},{key:"renderControls",value:function(){var t=this;this.getControlObjects().map(function(e){return t.renderControl(e.bounds,e.label)})}},{key:"renderControl",value:function(t,e){this.context.fillStyle=this.isMouseOverObject(t)?"rgba(100, 100, 100, 0.7)":"rgba(0, 0, 0, 0.7)",this.roundedRectangle(t.x,t.y,t.width,t.height,10),this.context.font="bold 25px courier",this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle="rgba(255, 255, 255)",this.context.fillText(e,t.x+t.width/2,t.y+t.height/2)}},{key:"isMouseOverObject",value:function(t){return this.state.mousePosition.x>=t.x&&this.state.mousePosition.x<=t.x+t.width&&this.state.mousePosition.y>=t.y&&this.state.mousePosition.y<=t.y+t.height}},{key:"renderAttribution",value:function(){this.context.font="bold 12px sans-serif",this.context.textAlign="left",this.context.textBaseline="alphabetic";var t=this.context.measureText(this.options.attribution),e=this.state.canvasDimensions[0]-t.width-4,n=this.state.canvasDimensions[1]-2-4;this.context.fillStyle="rgba(255, 255, 255, 0.7)",this.roundedRectangle(e-4,n-15,t.width+80,80),this.context.fillStyle="rgba(0, 0, 0, 0.7)",this.context.fillText(this.options.attribution,e,n)}},{key:"roundedRectangle",value:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;this.context.beginPath(),this.context.moveTo(t+r,e),this.context.lineTo(t+n-r,e),this.context.quadraticCurveTo(t+n,e,t+n,e+r),this.context.lineTo(t+n,e+o-r),this.context.quadraticCurveTo(t+n,e+o,t+n-r,e+o),this.context.lineTo(t+r,e+o),this.context.quadraticCurveTo(t,e+o,t,e+o-r),this.context.lineTo(t,e+r),this.context.quadraticCurveTo(t,e,t+r,e),this.context.closePath(),this.context.fill()}},{key:"addMarker",value:function(t){this.state.markers.push(t)}},{key:"addMarkers",value:function(t){var e=this;t.map(function(t){return e.addMarker(t)})}},{key:"setMarkers",value:function(t){this.state.markers=t,this.state.forceRedraw=!0}},{key:"addPolygon",value:function(t){this.state.polygons.push(t)}},{key:"setPolygons",value:function(t){this.state.polygons=t}}])&&a(e.prototype,n),u&&a(e,u),t}()},"./src/MapState.js":
/*!*************************!*\
  !*** ./src/MapState.js ***!
  \*************************/
/*! exports provided: default */function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e),n.d(e,"default",function(){return r});var r=function(){function t(e,n,o,r,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._center=e,this._zoom=n,this._targetZoom=o,this._tileSize=r,this._canvasDimensions=i,this._moveOffset=s}var e,n,r;return e=t,(n=[{key:"center",get:function(){return this._center}},{key:"zoom",get:function(){return this._zoom}},{key:"targetZoom",get:function(){return this._targetZoom}},{key:"tileSize",get:function(){return this._tileSize}},{key:"canvasDimensions",get:function(){return this._canvasDimensions}},{key:"moveOffset",get:function(){return this._moveOffset}}])&&o(e.prototype,n),r&&o(e,r),t}()},"./src/Marker.js":
/*!***********************!*\
  !*** ./src/Marker.js ***!
  \***********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n(/*! ./defaultOptions */"./src/defaultOptions.js");function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._coords=e,this._options=Object.assign({},o.defaultMarkerOptions,n)}var e,n,i;return e=t,(n=[{key:"render",value:function(t,e){var n=null;switch(this.options.type){case"marker":n=this.renderMarker;break;case"circle":n=this.renderCircle;break;case"donut":n=this.renderDonut;break;case"image":n=this.renderImage}if(!n)throw new Error('Unsupported marker type: "'.concat(this.options.type,'"'));t.fillStyle=this.options.color,t.strokeStyle=this.options.color,(n=n.bind(this))(t,e)}},{key:"renderCircle",value:function(t,e){t.save(),t.beginPath(),t.arc(e[0],e[1],this.size[0]/2,0,2*Math.PI),t.fill(),t.restore()}},{key:"renderDonut",value:function(t,e){t.save(),t.beginPath(),t.lineWidth=5,t.arc(e[0],e[1],this.size[0]/2,0,2*Math.PI),t.stroke(),t.restore()}},{key:"renderMarker",value:function(t,e){var n=this.size,o=e[0]-n[0]/2,r=e[1]-n[1];t.save(),t.transform(.184386,0,0,.184386,.551658+o,4.09576+r),t.beginPath(),t.lineWidth=1.667195,t.moveTo(45,-22.212949),t.bezierCurveTo(18.494941,-22.212949,-2.991863,-.726145,-2.991863,25.778914),t.bezierCurveTo(-2.991863,52.282306,45,112.21295,45,112.21295),t.bezierCurveTo(45,112.21295,92.991863,52.282306,92.991863,25.777247),t.bezierCurveTo(92.991863,-.726145,71.505059,-22.212949,45,-22.212949),t.moveTo(45,43.827962),t.bezierCurveTo(33.553042,43.827962,24.273437,34.550024,24.273437,23.103067),t.bezierCurveTo(24.273437,11.656109,33.553042,2.376504,45,2.376504),t.bezierCurveTo(56.446958,2.376504,65.726563,11.654442,65.726563,23.101399),t.bezierCurveTo(65.726563,34.548357,56.446958,43.827962,45,43.827962),t.fill(),t.restore()}},{key:"renderImage",value:function(t,e){if(this.options.image){var n=this.size,o=e[0]-n[0]/2,r=e[1]-n[1]/2;t.drawImage(this.options.image,o,r,n[0],n[1])}}},{key:"coords",get:function(){return this._coords}},{key:"options",get:function(){return this._options}},{key:"size",get:function(){switch(this.options.type){case"marker":return[17.698069,24.786272];case"circle":return[10,10];case"donut":return[14,14];case"image":return this.options.image?[this.options.image.width,this.options.image.height]:null;default:return null}}},{key:"offset",get:function(){switch(this.options.type){case"marker":return[0,-this.size[1]/2];case"image":return this.options.offset;default:return[0,0]}}}])&&r(e.prototype,n),i&&r(e,i),t}()},"./src/Polygon.js":
/*!************************!*\
  !*** ./src/Polygon.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return c});var o=n(/*! ./defaultOptions */"./src/defaultOptions.js"),r=n(/*! ./TileConversion */"./src/TileConversion.js"),i=n(/*! topojson-client */"./node_modules/topojson-client/index.js"),s=n(/*! robust-point-in-polygon */"./node_modules/robust-point-in-polygon/robust-pnp.js"),a=n.n(s);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=Object.assign({},o.defaultPolygonOptions,r),this._hoverOptions=Object.assign({},o.defaultPolygonOptions,o.defaultPolygonHoverOptions,s),this.globalIndex=this.prepareGlobalDataObject(),n||(n=Object.keys(e.objects)[0]),!(n in e.objects))throw new Error("Invalid object name, valid options are: ".concat(Object.keys(e.objects).join(", ")));this.geometry=Object(i.feature)(e,e.objects[n])}var e,n,s;return e=t,(n=[{key:"prepareGlobalDataObject",value:function(){"lightningMapsPolygons"in window||(window.lightningMapsPolygons=[]);var t=window.lightningMapsPolygons.length;return window.lightningMapsPolygons[t]={geometry:null,projectedGeometry:null},t}},{key:"handleMouseOver",value:function(t,e,n){var o=this,r=Math.round(e.zoom)!==e.zoom;if(!this.geometry||!this.projectedGeometry||r)return[];var i=[e.canvasDimensions[0]/2,e.canvasDimensions[1]/2],s=this.determineOriginZoom(e),u=this.calculateCenterOffset(e,s),l=[n.x-u[0]-i[0],n.y-u[1]-i[1]];return this.projectedGeometry.filter(function(n){var r=n.geometry.filter(function(t){return-1===a()(t,l)}).length>0;return r&&t&&(t.beginPath(),n.geometry.map(function(e){e.map(function(e,n){e=[e[0]+u[0]+i[0],e[1]+u[1]+i[1]],0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})}),o.applyContextStyles(t,o.hoverOptions,e.zoom),o.options.enableStroke&&t.fill(),o.options.enableFill&&t.stroke()),r})}},{key:"calculateCenterOffset",value:function(t,e){return[-r.default.lon2tile(t.center[1],e,!1)*t.tileSize,-r.default.lat2tile(t.center[0],e,!1)*t.tileSize]}},{key:"render",value:function(t,e){var n=this;if(this.geometry){var o=this.determineOriginZoom(e),r=o?e.zoom-o:0,i=0!==r?Math.pow(2,r):1,s=this.renderedMapCenter!==e.center,a=0===r&&this.renderedZoomLevel!==e.zoom,l=s||a,c=null;l&&(this.renderedZoomLevel=e.zoom,this.renderedMapCenter=e.center,this.projectedGeometry=this.geometry.features.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){u(t,e,n[e])})}return t}({},t,{geometry:n.projectGeometry(t.geometry,e)})}),c=this.calculateCenterOffset(e,o),this.calculatePolygonExtends(c));var f=[e.canvasDimensions[0]/2,e.canvasDimensions[1]/2],h=[f[0]+e.moveOffset[0]+this.polygonExtends.minX*i,f[1]+e.moveOffset[1]+this.polygonExtends.minY*i],p={left:Math.floor(-1*h[0]),right:Math.ceil(Math.abs(h[0])+e.canvasDimensions[0]),top:Math.floor(-1*h[1]),bottom:Math.ceil(Math.abs(h[1])+e.canvasDimensions[1])};l&&this.renderOffscreenCanvas(e,c,p);var d=[e.moveOffset[0]-f[0]*(i-1),e.moveOffset[1]-f[1]*(i-1)],m=this.polygonDimensions[0]*i,v=this.polygonDimensions[1]*i;t.drawImage(this.offscreenCanvas,d[0],d[1],m,v)}}},{key:"determineOriginZoom",value:function(t){var e=t.zoom;return t.targetZoom>t.zoom?e=Math.floor(t.zoom):t.targetZoom<t.zoom&&(e=Math.ceil(t.zoom)),e}},{key:"createOffscreenCanvas",value:function(t){return this.polygonDimensions=[t.right-t.left,t.bottom-t.top],this.offscreenCanvas=document.createElement("canvas"),this.offscreenCanvas.width=this.polygonDimensions[0],this.offscreenCanvas.height=this.polygonDimensions[1],this.offscreenCanvas.getContext("2d")}},{key:"calculatePolygonExtends",value:function(t){var e,n,o,r=null;this.mapGeometry(function(i){i=[i[0]+t[0],i[1]+t[1]],(!n||i[0]>n)&&(n=i[0]),(!e||i[0]<e)&&(e=i[0]),(!r||i[1]>r)&&(r=i[1]),(!o||i[1]<o)&&(o=i[1])}),this.polygonDimensions=[Math.ceil(n-e),Math.ceil(r-o)],this.polygonExtends={minX:e,maxX:n,minY:o,maxY:r}}},{key:"renderOffscreenCanvas",value:function(t,e,n){var o=this,r=this.createOffscreenCanvas(n);r.beginPath(),r.font="bold 8px helvetica",this.projectedGeometry.map(function(t){return t.geometry.map(function(t){t.filter(function(t){return(t=[t[0]-o.polygonExtends.minX+e[0],t[1]-o.polygonExtends.minY+e[1]])[0]>=n.left&&t[0]<=n.right&&t[1]>=n.top&&t[1]<=n.bottom}).length>0&&t.map(function(t,i){t=[t[0]-o.polygonExtends.minX+e[0]-n.left,t[1]-o.polygonExtends.minY+e[1]-n.top],0===i?r.moveTo(t[0],t[1]):r.lineTo(t[0],t[1])})})}),this.applyContextStyles(r,this.options,t.zoom),this.options.enableStroke&&r.fill(),this.options.enableFill&&r.stroke()}},{key:"applyContextStyles",value:function(t,e,n){t.fillStyle=e.fillStyle,t.strokeStyle=e.strokeStyle,t.lineWidth=e.lineWidth*n,t.setLineDash(e.lineDash),t.lineJoin="round"}},{key:"mapGeometry",value:function(t){return this.projectedGeometry.map(function(e){return e.geometry.map(function(e){return e.map(t)})})}},{key:"projectGeometry",value:function(t,e){var n=this;if(t)switch(t.type){case"Polygon":return[t.coordinates[0].map(function(t){return n.projectPoint(e,t[0],t[1])})];case"MultiPolygon":return t.coordinates.map(function(t){return t[0].map(function(t){return n.projectPoint(e,t[0],t[1])})})}return[]}},{key:"projectPoint",value:function(t,e,n){var o=r.default.latLonToPixel([n,e],null,t.zoom,t.tileSize);return[-o[0],-o[1]]}},{key:"options",get:function(){return this._options}},{key:"hoverOptions",get:function(){return this._hoverOptions}},{key:"geometry",get:function(){return window.lightningMapsPolygons[this.globalIndex].geometry},set:function(t){window.lightningMapsPolygons[this.globalIndex].geometry=t}},{key:"projectedGeometry",get:function(){return window.lightningMapsPolygons[this.globalIndex].projectedGeometry},set:function(t){window.lightningMapsPolygons[this.globalIndex].projectedGeometry=t}}])&&l(e.prototype,n),s&&l(e,s),t}()},"./src/Tile.js":
/*!*********************!*\
  !*** ./src/Tile.js ***!
  \*********************/
/*! exports provided: default */function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e),n.d(e,"default",function(){return r});var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=n,this._zoom=o}var e,n,r;return e=t,(n=[{key:"isValid",value:function(){var t=1<<this.zoom;return!(this.x>=t||this.x<0||this.y>=t||this.y<0)}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"zoom",get:function(){return this._zoom}},{key:"id",get:function(){return[this.x,this.y,this.zoom].join("|")}}])&&o(e.prototype,n),r&&o(e,r),t}()},"./src/TileConversion.js":
/*!*******************************!*\
  !*** ./src/TileConversion.js ***!
  \*******************************/
/*! exports provided: default */function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e),n.d(e,"default",function(){return r});var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"lon2tile",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=(t+180)/360*Math.pow(2,e);return n?Math.floor(o):o}},{key:"lat2tile",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e);return n?Math.floor(o):o}},{key:"tile2lon",value:function(t,e){return t/Math.pow(2,e)*360-180}},{key:"tile2lat",value:function(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}},{key:"tile2boundingBox",value:function(e,n,o){return{ne:[t.tile2lat(n,o),t.tile2lon(e+1,o)],sw:[t.tile2lat(n+1,o),t.tile2lon(e,o)]}}},{key:"pixelToLatLon",value:function(e,n,o,r){var i=[e[0]/r,e[1]/r],s=t.lon2tile(n[1],o,!1)-i[0],a=t.lat2tile(n[0],o,!1)-i[1];return[t.tile2lat(a,o),t.tile2lon(s,o)]}},{key:"latLonToPixel",value:function(e,n,o,r){var i=t.lon2tile(e[1],o,!1),s=t.lat2tile(e[0],o,!1),a=0,u=0;return n&&(a=t.lon2tile(n[1],o,!1),u=t.lat2tile(n[0],o,!1)),[-(i-a)*r,-(s-u)*r]}}],(n=null)&&o(e.prototype,n),r&&o(e,r),t}()},"./src/TileLayer.js":
/*!**************************!*\
  !*** ./src/TileLayer.js ***!
  \**************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var o=n(/*! ./TileConversion */"./src/TileConversion.js"),r=n(/*! ./Tile */"./src/Tile.js");function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.tilesZoomLevel=n,this.shouldBeDeleted=!1,this.context=e.context,this.state={grid:[],gridHash:null,relativeTileOffset:[0,0]}}var e,n,s;return e=t,(n=[{key:"toJSON",value:function(){return[this.state,this.loadedPercentage()]}},{key:"getTilesCount",value:function(t){var e=Math.ceil(t/this.map.options.tileSize)*this.map.options.tileAreaMultiplier;return e%2==0&&e++,e}},{key:"calculateGrid",value:function(){var t=this.map,e=t.state,n=t.options,i=o.default.lat2tile(n.center[0],Math.round(this.tilesZoomLevel||n.zoom),!1),s=o.default.lon2tile(n.center[1],Math.round(this.tilesZoomLevel||n.zoom),!1),a=[i,s].join(",");if(this.state.gridHash!==a){var u=this.getTilesCount(e.canvasDimensions[0]),l=this.getTilesCount(e.canvasDimensions[1]),c=Math.floor(i),f=Math.floor(s);this.state.relativeTileOffset=[Math.abs(s-f),Math.abs(i-c)];for(var h=f-Math.floor(u/2),p=c-Math.floor(l/2),d=[],m=0;m<l;m++)for(var v=0;v<u;v++){d[v]||(d[v]=[]);var y=h+v,g=p+m,b=new r.default(y,g,Math.round(this.tilesZoomLevel||n.zoom));b.isValid()&&(this.ensureTileAsset(b),d[v][m]=b)}this.state.grid=d,this.state.gridHash=a}}},{key:"ensureTileAsset",value:function(t){var e=this;if(!(t.id in this.map.state.tiles)){var n=this.map.options.source(Math.floor(t.x),Math.floor(t.y),t.zoom);this.map.state.tiles[t.id]=new Image,this.map.state.tiles[t.id].tileId=t.id,this.map.state.tiles[t.id].src=n,this.map.state.tiles[t.id].loaded=!1,this.map.state.tiles[t.id].onload=function(){e.map.state.tiles[t.id].loaded=!0}}this.map.state.tiles[t.id].lastRequested=(new Date).getTime()}},{key:"drawTiles",value:function(t){var e=this.map.state.canvasDimensions[0],n=this.map.state.canvasDimensions[1],o=this.map.options.tileSize*t,r=[o/2-this.state.relativeTileOffset[0]*o,o/2-this.state.relativeTileOffset[1]*o];this.context.fillStyle="#EEE",this.context.fillRect(0,0,e,n);for(var i=this.getTilesCount(e),s=this.getTilesCount(n),a=i*o-e,u=s*o-n,l=0;l<s;l++)for(var c=0;c<i;c++){var f=this.state.grid[c][l];if(f){var h=this.map.state.moveOffset[0]+r[0]+(c*o-a/2),p=this.map.state.moveOffset[1]+r[1]+(l*o-u/2);try{this.map.state.tiles[f.id].loaded?this.context.drawImage(this.map.state.tiles[f.id],h,p,o,o):this.drawGenericBackground(h,p,o)}catch(t){this.drawGenericBackground(h,p,o)}this.map.options.debug&&(this.context.strokeStyle="green",this.context.strokeRect(h,p,o,o))}}this.map.options.debug&&(this.context.fillStyle="rgba(200, 0, 0, 0.7)",this.context.beginPath(),this.context.arc(e/2,n/2,5,0,2*Math.PI),this.context.fill())}},{key:"drawGenericBackground",value:function(t,e,n){var o=n/8;this.context.beginPath();for(var r=o;r<n;r+=o)for(var i=o;i<n;i+=o)this.context.moveTo(t,e+i),this.context.lineTo(t+n,e+i),this.context.moveTo(t+r,e),this.context.lineTo(t+r,e+n);this.context.strokeStyle="#DDD",this.context.stroke(),this.context.strokeStyle="#CCC",this.context.strokeRect(t,e,n,n)}},{key:"loadedPercentage",value:function(){for(var t=this.getTilesCount(this.map.state.canvasDimensions[0]),e=this.getTilesCount(this.map.state.canvasDimensions[1]),n=0,o=0,r=0;r<e;r++)for(var i=0;i<t;i++){var s=this.state.grid[i][r];s&&n++;var a=s&&this.map.state.tiles[s.id];a&&a.loaded&&o++}return o/n}}])&&i(e.prototype,n),s&&i(e,s),t}()},"./src/defaultOptions.js":
/*!*******************************!*\
  !*** ./src/defaultOptions.js ***!
  \*******************************/
/*! exports provided: defaultMapOptions, defaultMarkerOptions, defaultPolygonOptions, defaultPolygonHoverOptions */function(t,e,n){"use strict";n.r(e),n.d(e,"defaultMapOptions",function(){return o}),n.d(e,"defaultMarkerOptions",function(){return r}),n.d(e,"defaultPolygonOptions",function(){return i}),n.d(e,"defaultPolygonHoverOptions",function(){return s});var o={source:function(t,e,n){return"https://maps.geocod.io/tiles/base/".concat(n,"/").concat(t,"/").concat(e,".png")},zoom:12,center:[38.841779,-77.088312],attribution:"Â© OpenStreetMap contributors",tileSize:256,panAccelerationMultiplier:2,maxPanAcceleration:3.5,throwTimingThresholdMs:100,throwVelocityThreshold:3e3,animationDurationMs:300,debounceIntervalMs:350,tileAreaMultiplier:2,debug:!1},r={color:"rgba(0, 0, 200, 0.7)",type:"marker",image:null,offset:[0,0]},i={enableStroke:!0,strokeStyle:"rgba(50, 25, 50, 1.0)",lineDash:[],lineWidth:.25,enableFill:!0,fillStyle:"rgba(0, 0, 0, 0.2)"},s={strokeStyle:"red",lineWidth:.5}},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: Map, Marker, Polygon */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./Map */"./src/Map.js");n.d(e,"Map",function(){return o.default});var r=n(/*! ./Marker */"./src/Marker.js");n.d(e,"Marker",function(){return r.default});var i=n(/*! ./Polygon */"./src/Polygon.js");n.d(e,"Polygon",function(){return i.default})}})},t.exports=o()},function(t,e,n){"use strict";var o=n(4);function r(){}t.exports=function(){function t(t,e,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(0),s=n.n(i);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,c(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return null}}])&&u(n.prototype,r),i&&u(n,i),e}();h.defaultProps={type:"marker",color:"black"},h.propTypes={position:s.a.arrayOf(s.a.number.isRequired).isRequired,type:s.a.oneOf(["marker","circle","donut","image"]),color:s.a.string,imageUrl:s.a.string,width:s.a.number,height:s.a.number};var p=h;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,y(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return null}}])&&m(n.prototype,r),i&&m(n,i),e}();b.propTypes={sourceUrl:s.a.string.isRequired,objectName:s.a.string,options:s.a.object,hoverOptions:s.a.object};var j=b,w=n(2);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){S(t,e,n[e])})}return t}function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=function(t){function e(t){var n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,i=P(e).call(this,t),n=!i||"object"!==k(i)&&"function"!=typeof i?T(o):i,S(T(T(n)),"renderChildren",function(){var t=Array.isArray(n.props.children)?n.props.children:[n.props.children],e=n.lightningMap;e&&(n.renderMarkers(t,e),n.renderPolygons(t,e))}),n.lightningMap=null,n.canvasRef=r.a.createRef(),n.state={polygons:{},markerImages:{}},n}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,o["Component"]),n=e,(i=[{key:"componentDidMount",value:function(){this.lightningMap=new w.Map(this.canvasRef.current,this.getMapOptions()),this.renderChildren()}},{key:"componentDidUpdate",value:function(t,e,n){}},{key:"render",value:function(){return this.renderChildren(),r.a.createElement("canvas",M({ref:this.canvasRef},this.getCanvasProps()))}},{key:"renderMarkers",value:function(t,e){var n=this;if(this.props.markers&&this.props.markers.length>0){var o=this.props.markers.map(function(t){return new w.Marker(t.coords,t.options||{})});e.setMarkers(o)}else{var r=t.filter(function(t){return t&&t.type===p}).map(function(t){var e=Object.assign({},t.props);if("image"===e.type&&e.imageUrl){if(!(e.imageUrl in n.state.markerImages)){n.setState({markerImages:O({},n.state.markerImages,S({},e.imageUrl,null))});var o=new Image(e.width||32,e.height||32);return o.src=e.imageUrl,o.onload=function(){n.setState({markerImages:O({},n.state.markerImages,S({},e.imageUrl,o))})},null}e.image=n.state.markerImages[e.imageUrl]}return new w.Marker(e.position,e)}).filter(function(t){return null!==t});e.setMarkers(r)}}},{key:"renderPolygons",value:function(t,e){var n=this,o=t.filter(function(t){return t&&t.type===j}).map(function(t){var e=t.props;return e.sourceUrl in n.state.polygons||(n.setState({polygons:O({},n.state.polygons,S({},e.sourceUrl,null))}),fetch(e.sourceUrl).then(function(t){return t.json()}).then(function(t){n.setState({polygons:O({},n.state.polygons,S({},e.sourceUrl,new w.Polygon(t,e.objectName,e.options,e.hoverOptions)))})}).catch(function(t){return console.log("Could not load ".concat(e.sourceUrl,": ").concat(t.message||t))})),n.state.polygons[t.props.sourceUrl]}).filter(function(t){return null!==t});e.setPolygons(o)}},{key:"getMapOptions",value:function(){var t=["source","zoom","center"];return this.getFilteredProps(function(e){return t.includes(e)})}},{key:"getCanvasProps",value:function(){var t=Object.keys(e.propTypes);return this.getFilteredProps(function(e){return!t.includes(e)})}},{key:"getFilteredProps",value:function(t){var e=this;return Object.keys(this.props).filter(t).reduce(function(t,n){return t[n]=e.props[n],t},{})}}])&&x(n.prototype,i),s&&x(n,s),e}();C.propTypes={source:s.a.func.isRequired,zoom:s.a.number.isRequired,center:s.a.arrayOf(s.a.number.isRequired).isRequired,children:s.a.oneOfType([s.a.object,s.a.array]),markers:s.a.array};var E=C;n.d(e,"Map",function(){return E}),n.d(e,"Marker",function(){return p}),n.d(e,"Polygon",function(){return j})}])});